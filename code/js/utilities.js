function adjustPosition(){locateBox("id-header","id-versions"),locateBox("id-header","id-books"),locateBox("id-header","id-chapters"),locateBox("id-header","id-versions")}async function bookWidth(){let e=document.getElementById("id-books");e.style.display="block";let t=e.offsetWidth;e.style.display="none",t=t+31+"px",document.documentElement.style.setProperty("--bookWidth",t),e.classList.remove("cs-booksW"),e.classList.add("cs-booksW1"),document.getElementById("id-versions").style.width=t}function changeFontSize(e){if("+"===e){if(activeFontSizeCount>8)return;activeFontSize*=1.15,activeFontSizeCount++}else if("-"===e){if(activeFontSizeCount<1)return;activeFontSize/=1.15,activeFontSizeCount--}else"d"===e&&(activeFontSize=defaultFontSize,activeFontSizeCount=0);setFontSize(),localStorage.setItem("activeFontSizeCount",activeFontSizeCount),localStorage.setItem("activeFontSize",activeFontSize);document.getElementById("id-endFontScroll")}function changeTheme(){toggleTheme(),rotateTheme?(darkTheme(),rotateTheme=!1,localStorage.setItem("setTheme","1")):(lightTheme(),rotateTheme=!0,localStorage.setItem("setTheme","0"))}function closeBoxes(){document.getElementById("id-versions").style.display="none",document.getElementById("id-books").style.display="none",document.getElementById("id-chapters").style.display="none",document.getElementById("id-verses").style.display="none",document.getElementById("id-randomChapter").style.backgroundColor="ba0e0e",document.getElementById("id-openLngs").textContent="♥",document.getElementById("id-languages").style.display="none",boxesAreOpen=!1}function closeLanguage(e=null){e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),document.getElementById("id-languages").style.display="none",document.getElementById("id-versions").style.display="block"}function darkTheme(){document.documentElement.style.setProperty("--bodyBackground","#3d3636"),document.documentElement.style.setProperty("--bannerBackground","#1a0303"),document.documentElement.style.setProperty("--mainBackground","#473e3e"),document.documentElement.style.setProperty("--blackText","#dcdde4"),document.documentElement.style.setProperty("--whiteText","#dcdde4"),document.documentElement.style.setProperty("--lighterMaroonEmphasis","#f3d3d3"),document.documentElement.style.setProperty("--verseNumber","#709cdf"),document.documentElement.style.setProperty("--navyEmphasis","#709cdf"),document.documentElement.style.setProperty("--searchResults","#fa4d4d"),document.documentElement.style.setProperty("--gradientLight","#5d656e"),document.documentElement.style.setProperty("--gradientDark","#010914"),document.getElementById("id-endLine").style.color="#010914"}async function deleteData(){localStorage.removeItem("savedLocal"),document.getElementById("top").scrollIntoView({block:"start"}),await unregisterServiceWorkers()}function isNumeric(e){return!isNaN(e)&&!isNaN(parseFloat(e))}function JesusQuote(e,t){return`<span class="cs-verseNumber">${t}</span>${e=redLetterDefault?(e=e.replace("`",'<span class="cs-emphasis">')).replace("´","</span>"):(e=e.replace("`","")).replace("´","")}`}function lightTheme(){document.documentElement.style.setProperty("--bodyBackground","#f3f3f3"),document.documentElement.style.setProperty("--bannerBackground","#022a69"),document.documentElement.style.setProperty("--mainBackground","white"),document.documentElement.style.setProperty("--blackText","black"),document.documentElement.style.setProperty("--whiteText","white"),document.documentElement.style.setProperty("--verseNumber","#0505da"),document.documentElement.style.setProperty("--lighterMaroonEmphasis","#ba0e0e"),document.documentElement.style.setProperty("--navyEmphasis","navy"),document.documentElement.style.setProperty("--searchResults","#ba0e0e"),document.documentElement.style.setProperty("--gradientLight","#0064d9"),document.documentElement.style.setProperty("--gradientDark","#11428c")}function locateBox(e,t,o=0){const n=document.getElementById(e),a=document.getElementById(t),r=n.clientHeight,l=n.offsetTop+r-o;o?(a.style.position="relative",a.style.marginTop=`${l}px`,a.style.position="static"):a.style.top=`${l}px`}function openBoxes(e=null){e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation());let t=e.target.id,o=null;let n=new URLSearchParams(window.location.search).get("vh");if(n&&(selectedVerseID=`id-verse${n}`),"id-headerTitle"===t||"id-header"===t||"id-pageContainer"===t||""===t||"id-headline"===t||""===t||t.includes("id-p")||t.includes("id-versNumber"))closeBoxes();else{switch(t){case"id-MenuBtn1":o="id-versions",locateBox("id-header",o),document.getElementById(o).style.display="block",document.getElementById(activeVersionID).scrollIntoView({block:"center"});break;case"id-MenuBtn2":o="id-books",locateBox("id-header",o),document.getElementById(o).style.display="block",document.getElementById(activeBookID).scrollIntoView({block:"center"});break;case"id-MenuBtn3":o="id-chapters",locateBox("id-header",o),document.getElementById(o).style.display="block",document.getElementById(activeChapterID).scrollIntoView({block:"center"});break;case"id-MenuBtn4":o="id-verses",locateBox("id-header",o),document.getElementById(o).style.display="block",n&&(selectedVerseID=`id-verse${n}`),selectedVerseID?(selected(selectedVerseID,"id-verses"),document.getElementById(selectedVerseID).scrollIntoView({block:"center"})):document.getElementById("id-verseLine1").scrollIntoView({block:"center"});break;case"id-openLngs":o="id-languages",locateBox("id-header",o),document.getElementById("id-versions").style.display="none",document.getElementById(o).style.display="block",selected(`id-lang${activeLanguageID}`,o),document.getElementById(`id-lang${activeLanguageID}`).scrollIntoView({block:"center"}),boxesAreOpen=!1;break;default:break}boxesAreOpen?closeBoxes():boxesAreOpen=!0}}function paragraphLayout(){paragraphLayoutDefault?(document.getElementById("id-paragraphLayout").textContent="Paragraph Layout",paragraphLayoutDefault=0):(document.getElementById("id-paragraphLayout").textContent="Line Layout",paragraphLayoutDefault=1),getChapter(),localStorage.setItem("paragraphLayout",paragraphLayoutDefault)}function redLetter(){redLetterDefault?(document.getElementById("id-redLetter").textContent="Red Letter",redLetterDefault=0):(document.getElementById("id-redLetter").textContent="Black Letter",redLetterDefault=1),getChapter(),localStorage.setItem("redLetter",redLetterDefault)}function removeElements(e){let t=document.getElementById(e);for(;t.firstChild;)t.removeChild(t.firstChild)}function removeQueryParam(e){var t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState({},"",t)}function resetDefaults(){if(!confirm("You are about to reset all saved settings and file storage settings. Changes will take effect immediately. Click OK to continue or Cancel to abort!"))return;let e=document.getElementById("id-theme");rotateTheme=!1,changeTheme(),e.textContent="☀️",e.classList.contains("cs-darkTheme")&&e.classList.remove("cs-darkTheme"),rotateTheme=!0,changeFontSize("d"),localStorage.removeItem("activeFontSizeCount"),localStorage.removeItem("activeFontSize"),localStorage.removeItem("activeBookID"),localStorage.removeItem("activeChapterID"),localStorage.removeItem("activeLanguageID"),localStorage.removeItem("activeLanguage1ID"),localStorage.removeItem("activeVersionID"),localStorage.removeItem("activeVersion1ID"),localStorage.removeItem("redLetter"),localStorage.removeItem("setTheme"),paragraphLayoutDefault=0,redLetterDefault=0,selectedVerseID=null,activeVersionID=defaultVersionID,activeBookID=defaultBookID,activeChapterID=defaultChapterID,activeLanguageID=defaultLanguageID;let t=Number(defaultVersionID.slice("id-version".length));loadLanguages(),loadVersions(),getVersion(),deleteData(),selected(activeVersionID,"id-versions"),selected(activeBookID,"id-books"),selected(activeChapterID,"id-chapters"),selected(`id-lang${activeLanguageID}`,"id-chapters"),removeQueryParam("vh"),removeQueryParam("verid1"),setQuerystring("bid",1),setQuerystring("cn",1),setQuerystring("lid",activeLanguageID),setQuerystring("verid",t),document.getElementById("id-MenuBtn4").textContent="1:",localStorage.removeItem("paragraphLayout"),document.getElementById("id-paragraphLayout").textContent="Paragraph Layout",document.getElementById("id-redLetter").textContent="Red Letter",document.getElementById(defaultVersionID).classList.add("cs-bvSelected"),document.getElementById("id-book1").classList.add("cs-bvSelected"),document.getElementById("id-chapter1").classList.add("cs-bvSelected"),pastSelectedLanguageID=defaultLanguageID,pastSelectedVersionID=defaultVersionID,pastSelectedBookID=defaultBookID,pastSelectedChapterID=defaultChapterID,pastSelectedVerseID=selectedVerseID,document.getElementById("top").scrollIntoView({block:"start"})}function selected(e,t,o=null){let n=null;switch(t){case"id-versions":n=pastSelectedVersionID,pastSelectedVersionID=e;break;case"id-books":n=pastSelectedBookID,pastSelectedBookID=e;break;case"id-chapters":n=pastSelectedChapterID,pastSelectedChapterID=e;break;case"id-languages":n=pastSelectedLanguageID,pastSelectedLanguageID=e;break;case"id-verses":n=pastSelectedVerseID,pastSelectedVerseID=e,"id-verse0"===e&&(e=null);break}let a=document.getElementById(n);n&&a&&a.classList.remove("cs-bvSelected"),e&&!o&&document.getElementById(e).classList.add("cs-bvSelected")}async function setFontSize(){const e=document.querySelectorAll("p");for(const t of e)"id-endLine"!==t.id&&(t.style.fontSize=`${activeFontSize}rem`)}function setQuerystring(e,t){let o=new URL(window.location),n=new URLSearchParams(o.search);o.searchParams.set(e,t),n.has(e)?window.history.replaceState({},"",o):window.history.pushState({},"",o)}function sortBooks(){bookSort?(oldBooks.sort(((e,t)=>e.id-t.id)),newBooks.sort(((e,t)=>e.id-t.id)),loadBooks(),document.getElementById("id-closeBook").title="Sort Alphabetically",document.getElementById("id-closeBook").alt="Sort Alphabetically",document.getElementById("id-heart").classList.remove("cs-rotate180"),bookSort=!1):(oldBooks.sort(((e,t)=>e.t.localeCompare(t.t))),newBooks.sort(((e,t)=>e.t.localeCompare(t.t))),loadBooks(),document.getElementById("id-closeBook").title="Sort Biblically",document.getElementById("id-closeBook").alt="Sort Biblically",document.getElementById("id-heart").classList.add("cs-rotate180"),bookSort=!0)}async function startUp(){let e=null;return activeVersionID&&(e=Number(activeVersionID.slice("id-version".length)),setQuerystring("verid",e),selected(activeVersionID,"id-versions")),activeBookID&&(e=Number(activeBookID.slice("id-book".length)),setQuerystring("bid",e),selected(activeBookID,"id-books")),activeChapterID&&(e=Number(activeChapterID.slice("id-chapter".length)),setQuerystring("cn",e),selected(activeChapterID,"id-chapters")),activeVersion1ID&&(e=Number(activeVersion1ID.slice("id-versionA".length)),setQuerystring("verid1",e),selected(activeVersion1ID,"id-versions1")),!0}function toggleTheme(){let e=document.getElementById("id-theme");e.classList.toggle("cs-darkTheme"),e.textContent=e.classList.contains("cs-darkTheme")?"🌙":"☀️"}function unHighlight(){selected("id-verse0","id-verses"),removeQueryParam("vh"),selectedVerseID=null,pastSelectedVerseID=null,document.getElementById("id-MenuBtn4").textContent="1"}function verseHighlight(e){let t=document.getElementById(e).textContent;document.getElementById("id-MenuBtn4").textContent=t,selectedVerseNumberID=`id-versNumber${t}`;const o=document.getElementById(selectedVerseNumberID),n=window.getSelection(),a=document.createRange();a.selectNodeContents(o),n.removeAllRanges(),n.addRange(a),o.scrollIntoView({block:"center"}),closeBoxes()}function testRemover(){localStorage.removeItem("activeFontSizeCount"),localStorage.removeItem("activeFontSize"),localStorage.removeItem("activeBookID"),localStorage.removeItem("activeChapterID"),localStorage.removeItem("activeLanguageID"),localStorage.removeItem("activeLanguage1ID"),localStorage.removeItem("activeVersionID"),localStorage.removeItem("activeVersion1ID"),localStorage.removeItem("redLetter"),localStorage.removeItem("setTheme"),removeQueryParam("vh"),removeQueryParam("bid"),removeQueryParam("cn"),removeQueryParam("lid"),removeQueryParam("verid"),removeQueryParam("verid1")}