function changeBook(e=null){e&&(activeBookID=e.target.id);let t=Number(activeBookID.slice("id-book".length));activeChapterID="id-chapter1",chapterCount=Number(document.getElementById(activeBookID).dataset.chapters),document.getElementById("id-MenuBtn3").textContent="1:",document.getElementById("id-MenuBtn4").textContent="1:",getChapter(),loadChapters(),closeBoxes(),selected(activeBookID,"id-books"),selected(activeChapterID,"id-chapters"),setQuerystring("bid",t),setQuerystring("cn",1),removeQueryParam("vh"),unHighlight(),document.getElementById("top").scrollIntoView({block:"start"}),boxOpen=0}function changeChapter(e=null){e&&(activeChapterID=e.target.id);let t=Number(activeChapterID.slice("id-chapter".length));chapterCount=Number(document.getElementById(activeBookID).dataset.chapters),getChapter(),loadChapters(),closeBoxes(),selected(activeChapterID,"id-chapters"),setQuerystring("cn",t),document.getElementById("id-MenuBtn4").textContent="1",unHighlight(),document.getElementById("top").scrollIntoView({block:"start"}),boxOpen=0}async function changeLanguage(e=null){let t;e&&(t=e.target.id);let n=Number(document.getElementById(t).dataset.index);activeBookID=defaultBookID,activeChapterID=defaultChapterID,activeLanguageID=languages[n].lid,localVoices.findIndex((e=>e.lang===languages[n].lngc))>-1?(document.getElementById("id-listen").style.display="flex",document.getElementById("id-brListen").style.display="block"):(document.getElementById("id-listen").style.display="none",document.getElementById("id-brListen").style.display="none"),loadVersions(),document.getElementById("id-language").textContent=`Language: ${languages[n].lng}`,closeLanguage();let o=document.getElementById("id-versions").children[1];activeVersionID=o.id,o.click(),setQuerystring("bid",1),setQuerystring("cn",1),setQuerystring("verid",activeVersionID),localStorage.setItem("activeBookID",activeBookID),localStorage.setItem("activeChapterID",activeChapterID),localStorage.setItem("activeVersionID",activeVersionID),selected(t,"id-languages"),selected(activeVersionID,"id-versions"),selected(activeBookID,"id-books"),selected(activeChapterID,"id-chapters"),unHighlight(),document.getElementById("top").scrollIntoView({block:"start"})}async function changeVersion(e=null){let t=!1;t=await getVersion(e),t&&locateBox("id-header","id-mainPage",-10);let n=Number(activeVersionID.slice("id-version".length));return selected(activeVersionID,"id-versions"),setQuerystring("cn",1),setQuerystring("verid",n),!0}function findVerse(e=null){let t;e&&(t=e.target.id);let n=Number(t.slice("id-verse".length));verseHighlight(t),setQuerystring("vh",n),selected(t,"id-verses")}function lastChapter(){let e=0,t=[],n=Number(document.getElementById(activeBookID).dataset.bid);n<40?(e=oldBooks.findIndex((e=>e.id===n)),t=oldBooks):(e=newBooks.findIndex((e=>e.id===n)),t=newBooks);let o=Number(document.getElementById(activeChapterID).textContent)-1;o<1&&(n--,o=t[e-1].c,chapterCount=t[e-1].c),activeBookID=`id-book${n}`,activeChapterID=`id-chapter${o}`,loadChapters(),getChapter(),removeQueryParam("vh"),document.getElementById("id-MenuBtn4").textContent="1:",unHighlight(),document.getElementById("top").scrollIntoView({block:"start"})}function nextChapter(){let e=0,t=[],n=Number(document.getElementById(activeBookID).dataset.bid);n<40?(e=oldBooks.findIndex((e=>e.id===n)),t=oldBooks):(e=newBooks.findIndex((e=>e.id===n)),t=newBooks);let o=t[e].c,i=Number(document.getElementById(activeChapterID).textContent)+1;i>o&&(n++,i=1),activeBookID=`id-book${n}`,activeChapterID=`id-chapter${i}`,n<40?(e=oldBooks.findIndex((e=>e.id===n)),t=oldBooks):(e=newBooks.findIndex((e=>e.id===n)),t=newBooks),chapterCount=t[e].c,getChapter(),loadChapters(),removeQueryParam("vh"),document.getElementById("id-MenuBtn4").textContent="1:",unHighlight(),document.getElementById("top").scrollIntoView({block:"start"})}function synthVoice(){const e=new URLSearchParams(window.location.search),t=`synth.html?verid=${e.get("verid")}&bid=${e.get("bid")}&cn=${e.get("cn")}`;window.location.href=t}function readChronological(){const e=`chron.html?verid=${new URLSearchParams(window.location.search).get("verid")}`;window.location.href=e}function aClick(e){window.location.href=e}function readRandomChapter(){let e=Math.floor(-30639*Math.random())+30640,t=verses[e].bid,n=verses[e].cn;activeBookID=`id-book${t}`,activeChapterID=`id-chapter${n}`,getChapter(),document.getElementById("top").scrollIntoView({block:"start"}),closeBoxes()}